@import "../variables/oro/inputs-variables";

textarea,
input[type="text"],
input[type="password"],
input[type="datetime"],
input[type="datetime-local"],
input[type="date"],
input[type="month"],
input[type="time"],
input[type="week"],
input[type="number"],
input[type="email"],
input[type="url"],
input[type="search"],
input[type="tel"],
input[type="color"],
.uneditable-input,
.selector {
  border-radius: 2px;
  background-color: $primary-inverse;
  border: solid 2px $primary-750;
  font-family: $base-font-family;
  padding: 4px 6px;
  box-shadow: none;
  color: $primary-200;

  &:focus {
    box-shadow: none;
    border-color: $secondary;

    &:invalid {
      &:focus {
        box-shadow: none;
        border-color: $secondary;
      }
    }
  }

  &:disabled {
    border-color: $primary-800;
    background-color: $primary-900;
    color: $primary-700;
    resize: none;
  }

  &.error {
    border-color: $danger-dark;
    box-shadow: none;
  }
}

/* Select */
.selector {
  line-height: 32px;
  height: 32px;
  width: 235px;
  border: 2px solid $primary-750;
  background-color: $primary-inverse;
  border-radius: 2px;

  option {
    padding-left: 6px;
  }

  select {
    height: 28px;
    line-height: 28px;
    z-index: 1;
    padding: 0 5px;
    left: 0;
    width: auto;
    box-sizing: border-box;
    color: $primary-200;
  }

  span {
    height: 30px;
    display: block;
    line-height: 30px;
    box-sizing: border-box;
    padding: 0 5px 0 8px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;

    &:after {
      margin: 3px 3px 0 0;
      display: inline-block;
      font: 16px FontAwesome;
      content: "\f0dd";
      position: absolute;
      right: 5px;
      color: $primary-400;
    }
  }

  &.input-widget-select select {
    width: 100%;
  }

  /* end uniformjs customization */
  .selector {
    &:active,
    .active {

      &:hover {

      }
    }

    &.focus,
    &.hover,
    &:hover {

      &:active {

      }
    }
  }

  &.disabled {
    span {
      color: #aaa;

      &:after {
        color: #ddd;
      }
    }
  }

  &.error {

  }
}

/* Checkbox */
.checkbox-view {
  margin-bottom: 0;
  line-height: inherit;
  display: inline-block;
  vertical-align: middle;

  &__icon {
    display: inline-block;

    height: 16px;
    width: 16px;

    border: 2px solid $primary-750;
    background-color: $primary-inverse;

    border-radius: 3px;

    cursor: pointer;

    vertical-align: text-bottom;

    position: relative;

    color: $primary-inverse;

    &:before {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);

      font-size: 10px;
      line-height: 1;
      font-family: FontAwesome;
    }

    &--circle {
      border-radius: 50%;

      &:before {
        content: "";
        margin: 0;
        display: block;
        width: 9px;
        height: 9px;
        border-radius: 50%;
      }
    }

    &--size-l {
      width: 24px;
      height: 24px;

      &:before {
        font-size: $base-font-size;
      }
    }
  }

  &__input {
    position: absolute;
    z-index: -1;
    margin: 0;
    opacity: 0;

    &:hover, &:focus {
      & ~ .checkbox-view__icon {
        border-color: $secondary;
      }
    }

    &:checked {
      ~ .checkbox-view__icon {
        background-color: $secondary;
        border-color: $secondary;
        &:before {
          content: "\f00c";
        }
      }

      ~ .checkbox-view__icon--circle {
        background-color: transparent;
        border-color: $secondary;

        &:before {
          content: "";
          background-color: $secondary;
        }
      }

      &:disabled {
        ~ .checkbox-view__icon {
          background-color: $secondary;
        }
      }
    }

    &:indeterminate {
      ~ .checkbox-view__icon:not(.checkbox-view__icon--circle) {
        background-color: $secondary;
        border-color: $secondary;
        &:before {
          content: "\f068";
        }
      }
    }

    &:disabled {
      & ~ .checkbox-view__icon {
        opacity: .5;
        background-color: $primary-900;
        pointer-events: none;
      }
    }
  }

  &__text {
    margin-left: 4px;
    vertical-align: middle;
    font-size: $base-font-size;

    &:empty {
      display: none;
    }
  }

  &.absolute {
    position: relative;

    .custom-checkbox__text {
      display: inline-block;
      margin-left: 24px;
    }

    .custom-checkbox__icon {
      position: absolute;
      left: 0;
    }
  }
}

.add-on,
.btn {
  .input-append &,
  .input-prepend & {
    float: none;
    border: 2px solid $primary-750;
    background-color: $primary-inverse;
    height: 32px;
    line-height: 30px;
    padding: 0 5px;

    input[type='checkbox'],
    input[type='radio'] {
      margin-top: -1px;
    }

    &:last-child {
      border-radius: 0 2px 2px 0;
    }

    &:first-child {
      border-radius: 2px 0 0 2px;
    }

    &:disabled {
      border-color: $primary-800;
      background-color: $primary-900;
      color: $primary-700;
    }
  }

  .input-append & {
    border-radius: 0 2px 2px 0;
    margin-left: -2px;
  }

  .input-prepend & {
    border-radius: 2px 0 0 2px;
    margin-right: -2px;
  }
}

/* start uniformjs customization (see documentation http://uniformjs.com/ selectAutoWidth property for explain this styles) */
.controls {
  select {
    width: 279px;
  }

  .selector {
    select {
      width: 100%;
    }
  }
}


textarea,
input,
select,
.uneditable-input,
body .select2-container {
  box-sizing: content-box;
  border-color: #ddd;
  color: #333;
  font-size: $base-font-size;
}

//select:focus:invalid:focus,
//div.selector.focus,
//div.uploader.focus {
//  border-color: rgba(82, 168, 236, .8);
//  outline: 0;
//  outline: thin dotted \9;
//  box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(82, 168, 236, .6);
//  color: #555;
//}

// ie, chrome, safari
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
// firefox
input[type=number] {
  -moz-appearance:textfield;
}

.alert .message ul:last-child {
  margin-bottom: 0;
}

input[type=text].hasDatepicker.ui-datepicker-dialog-is-below:focus,
.ui-datepicker-dialog-is-below,
.timepicker-dialog-is-below,
.input-append.select2-drop-below,
.controls.select2-drop-below select,
.controls.select2-drop-below .select2-container,
.controls .selector.focus {
  + span.validation-failed {
    @include floating-validation-message();
  }
}
.loading > .input-append {
  position: relative;
  & .btn:focus {
    outline: 0 none;
  }
  .select2-container-active .select2-choice {
    border: 0 none;
    box-shadow: none;
  }
  &:after {
    content: '';
    display: block;
    position: absolute;
    opacity: 0.7;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background: url("../../../orodatagrid/images/preloader.gif") repeat;
  }
}

.timepicker-dialog-is-below.timepicker-error + span.validation-failed:after {
  left: 128px;
}

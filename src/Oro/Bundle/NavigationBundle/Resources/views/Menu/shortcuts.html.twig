{% extends 'OroNavigationBundle:Menu:menu.html.twig' %}

{% block list %}
    {% import 'OroUIBundle::macros.html.twig' as UI %}
    {% if item.hasChildren and options.depth is not sameas(0) and item.displayChildren %}
            {% set togglerId = 'dropdown-'|uniqid %}
            <div class="dropdown header-dropdown-shortcut header-utility-dropdown" data-layout="separate"
                {{ UI.renderPageComponentAttributes({view: 'oronavigation/js/app/views/shortcuts-view'}) }}>
                <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown" id="{{ togglerId }}"
                   aria-haspopup="true" aria-expanded="false" aria-label="{{ 'oro.navigation.shortcuts.title'|trans }}"
                   title="{{ 'oro.navigation.shortcuts.title'|trans }}"><span class="fa-share-square" aria-hidden="true"></span></a>
                <ul class="dropdown-menu" aria-labelledby="{{ togglerId }}">
                    <li class="nav-header nav-header-title">{{ 'oro.navigation.shortcuts.title'|trans }}</li>
                    <li class="dark">
                        <form>
                            <input type="text"
                                   placeholder="{{ 'oro.navigation.shortcuts.placeholder'|trans }}"
                                   data-source-url={{ options.source|json_encode|raw }} class="input"
                                   data-entity-class="{{ oro_class_name(app.user, true) }}"
                                   data-entity-id="{{ app.user.id }}"
                            >
                            <div class="clearfix">
                                <div class="extra-small">{{ 'oro.navigation.shortcuts.example'|trans }}
                                    <a href="{{ options.details }}">{{ 'oro.navigation.shortcuts.see_all'|trans }}</a>
                                </div>
                            </div>
                        </form>
                    </li>
                    <div class="nav-header">{{ 'oro.navigation.shortcuts.most_used'|trans }}</div>
                    {{ block('children') }}
                </ul>
            </div>
    {% endif %}
{% endblock %}

{% block item %}
    {% if item.extras.is_custom_action is defined %}
        {{ block('item_renderer') }}
    {% endif %}
{% endblock %}
